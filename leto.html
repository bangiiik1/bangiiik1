<!DOCTYPE html>
<html>
<head>
<title>–î–æ –ª–µ—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å</title>
<style>
h1 {
display: flex;
justify-content: center;
font-size: 6vh;
}
p {
display: flex;
justify-content: center;
font-size: 4vh;
}
div {
display: flex;
justify-content: center;
}
progress {
width: 80vw;
height: 10vh;
}
</style>
</head>
<body>
<h1>–°–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å –¥–æ –ª–µ—Ç–∞</h1>
<p id="t">–î–æ –ª–µ—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π</p>
<div><progress id="pro" max=273></progress></div>
<p id="c"></p>
<script>
var now = new Date()
const c = document.getElementById("c")
const pro = document.getElementById("pro")
const t = document.getElementById("t")
var isnowleto = false
var visokosny = false
var leto
var konec = new Date(leto)

setInterval(()=>{
now = new Date()

if (now.getMonth() <= 4) {
leto = new Date(now.getFullYear() + "-06-01T00:00:00")
} else {leto = new Date((now.getFullYear()+1) + "-06-01T00:00:00")}
konec.setFullYear(leto.getFullYear() - 1)
konec.setDate(konec.getDate()+92)

if (now.getMonth() >= 5 && now.getMonth() <= 7) {isnowleto = true} else {isnowleto = false}
if (new Date(now.getFullYear(),1,29).getDate() === 29) {visokosny = true} else {visokosny = false}
if (isnowleto) {pro.max = 92}
else if (!isnowleto && visokosny) {pro.max = 274} else {pro.max = 273}

if (!isnowleto) {
t.textContent = "–î–æ –ª–µ—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å " + Math.floor((leto-now)/86400000) + " –¥–Ω–µ–π"
pro.value = pro.max - ((leto-now)/86400000)
if ((leto-now)/86400000 <= 30) {c.textContent = "–£—Ä–∞ —Å–∫–æ—Ä–æ –ª–µ—Ç–æ üòé"} else {
c.textContent = ""}
} else {
t.textContent = "–î–æ –∫–æ–Ω—Ü–∞ –ª–µ—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å " + Math.floor((konec-now)/86400000) + " –¥–Ω–µ–π"
pro.value = pro.max - (konec-now)/86400000
if ((konec-now)/86400000 <= 14) {c.textContent = "–í–Ω–∏–º–∞–Ω–∏–µ —Å–∫–æ—Ä–æ –∫–æ–Ω–µ—Ü –ª–µ—Ç–∞ ‚ö†"} else {
c.textContent = ""}
}
},1000)
</script>
</body>
</html>
